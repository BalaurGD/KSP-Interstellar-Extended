PART 
{
    name = kspiDaedalus
    module = Part
    author = Cyne
    scale = 1
    rescaleFactor = 1
    mesh = Daedalus.mu
    TechRequired = nuclearPropulsion
    entryCost = 12000000
    cost = 6000000
    category = Engine
    subcategory = 0
    title = Daedalus Drive MK II
    manufacturer = MEV FusionTek
    description = The Daedalus drive is a fusion engine that compresses and fuses pellets of Deuterium helium-3 for propulsion. It is highly efficent and is meant to be used to propel your ships towards other stars.
    attachRules = 1,1,1,1,0
    mass = 15
    dragModelType = default
    maximum_drag = 0.2
    minimum_drag = 0.2
    angularDrag = 2
    crashTolerance = 10
    breakingForce = 1500
    breakingTorque = 1500
    maxTemp = 2000
    heatConductivity = 0.01
    emissiveConstant = 0.95
    bulkheadProfiles = srf, size4
	EFFECTS 
	{
        	running_closed 
		{
            		AUDIO 
			{
				channel = Ship
				clip = WarpPlugin/Sounds/Epsteinfx
				volume = 0.0 0.0
				volume = 0.05 0.6
				volume = 1.0 1.5
				pitch = 0.0 0.4
				pitch = 1.0 1.0
				loop = true
            		}
			MODEL_MULTI_PARTICLE
			{
				name = flare
				modelName = WarpPlugin/Parts/Engines/Daedalus/FX/DaedalusFlare
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.01 1
				energy = 0 0
				energy = 0.01 0.3 13 0.6
				energy = 1 1
				localPosition = 0, 0, 2
			}
			MODEL_MULTI_PARTICLE
			{
				name = strobe
				modelName = WarpPlugin/Parts/Engines/Daedalus/FX/DaedalusStrobe
				transformName = thrustTransform
				emission = 0.0 0
				emission = 0.01 1
				energy = 0 0
				energy = 0.03 0.4 13 0.6
				energy = 1 1
				localPosition = 0, 0, 2
			}
			MODEL_MULTI_PARTICLE
			{
				name = blaze
				modelName = WarpPlugin/Parts/Engines/Daedalus/FX/DaedalusBlaze
				transformName = thrustTransform
				emission = 0.0 0
				emission = 0.1 1
				emission = 0.2 0
				energy = 0 0.5
				energy = 1 0.6
				localPosition = 0, 0, 2
			}
			MODEL_MULTI_PARTICLE 
			{
				name = diffuse
				modelName = WarpPlugin/Parts/Engines/Daedalus/FX/DaedalusDiffuse
				transformName = thrustTransform
				emission = 0.0 0
				emission = 0.1 0.3 3 0.75
				emission = 1 1
				energy = 0 0.5
				energy = 1 1
				localPosition = 0, 0, 4
			}
        }

        engage {
            AUDIO {
                channel = Ship
                clip = sound_vent_soft
                volume = 1.0
                pitch = 2.0
                loop = false
            }

        }

        flameout {
            PREFAB_PARTICLE {
                prefabName = fx_exhaustSparks_flameout_2
                transformName = thrustTransform
                oneShot = true
            }

            AUDIO {
                channel = Ship
                clip = sound_GenericFlameout
                volume = 1.0
                pitch = 2.0
                loop = false
            }

        }

    }

	MODULE 
	{
        name = ModuleEnginesFX
        runningEffectName = running_closed
        thrustVectorTransformName = thrustTransform
        exhaustDamage = True
        ignitionThreshold = 0.1
        minThrust = 0
        maxThrust = 8000
        heatProduction = 200
        fxOffset = 0, 0, 1
        exhaustDamageMaxRange = 1000
        exhaustDamageMultiplier = 1000
        exhaustDamageMaxMutliplier = 1000
        PROPELLANT {
            name = FusionPellets
            ratio = 1
            DrawGauge = True
        }

        atmosphereCurve {
            key = 0 1500000
            key = 1 100
        }

    }

    RESOURCE {
        name = ElectricCharge
        amount = 1000
        maxAmount = 1000
    }

    RESOURCE {
        name = FusionPellets
        amount = 1000
        maxAmount = 1000
    }

    RESOURCE {
        name = LqdHe3
        amount = 805
        maxAmount = 805
    }

    RESOURCE {
        name = LqdDeuterium
        amount = 195
        maxAmount = 195
    }

    RESOURCE {
        name = Megajoules
        amount = 200
        maxAmount = 200
        isTweakable = true
    }

    MODULE {
        name = ModuleDataTransmitter
        antennaType = RELAY
        packetInterval = 0.1
        packetSize = 1
        packetResourceCost = 200
        requiredResource = ElectricCharge
        DeployFxModules = 0
        antennaPower = 4.0e+13
        antennaCombinable = False
    }

    MODULE {
        name = ModuleResourceConverter
        ConverterName = FusionPellets Creator
        StartActionName = Start FusionPellets manufacturing
        StopActionName = Stop FusionPellets manufacturing
        EfficiencyBonus = 10
        INPUT_RESOURCE {
            ResourceName = LqdHe3
            Ratio = 0.805
            FlowMode = STAGE_PRIORITY_FLOW
        }

        INPUT_RESOURCE {
            ResourceName = LqdDeuterium
            Ratio = 0.195
            FlowMode = STAGE_PRIORITY_FLOW
        }

        INPUT_RESOURCE {
            ResourceName = ElectricCharge
            Ratio = 10
        }

        OUTPUT_RESOURCE {
            ResourceName = FusionPellets
            Ratio = 0.37
            DumpExcess = False
            FlowMode = STAGE_PRIORITY_FLOW
        }

    }

    NODE {
        name = top
        transform = node_stack_top
        size = 1
        method = FIXED_JOINT
        crossfeed = True
        rigid = False
    }

    NODE {
        name = bottom
        transform = node_stack_bottom
        size = 1
        method = FIXED_JOINT
        crossfeed = True
        rigid = False
    }

}
